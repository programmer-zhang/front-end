# JavaScript原型链

`JavaScript` 是一门广泛应用于Web开发的编程语言，其独特的特性之一就是原型链。原型链是`JavaScript` 中实现继承的一种机制，本文将深入探讨原型链的概念、工作原理以及如何在代码中有效利用它。

## 阅读本文您将收获
* 什么是原型链
* 原型链的工作原理
* 原型链的优势
* 关于原型链经常碰到的面试题目

## 什么是原型链？

在`JavaScript`中，几乎所有的对象都有一个关联的原型对象，也就是一个用于继承属性和方法的对象。每个对象都有一个`__proto__`属性，指向其原型对象。这个原型对象也可以有自己的原型，这样就形成了一个链式结构，被称为原型链。

## 原型链的工作原理

* 当我们访问一个对象的属性或方法时，`JavaScript` 引擎首先查找该对象本身是否有这个属性或方法。如果没有找到，它就会沿着原型链向上查找，直到找到为止，或者直到达到原型链的末尾，即`Object.prototype`。这个过程可以通过以下示例来说明：

```javascript
function Animal(name) {
    this.name = name;
}

Animal.prototype.sayHello = function() {
    console.log(`Hello, I'm ${this.name}`);
}

function Dog(name, breed) {
    Animal.call(this, name);
    this.breed = breed;
}

Dog.prototype = Object.create(Animal.prototype);

const dog1 = new Dog('Buddy', 'Golden Retriever');
dog1.sayHello(); // 输出：Hello, I'm Buddy
```

* 在这个示例中，我们定义了一个`Animal`构造函数和一个`Dog`构造函数。
* `Dog`构造函数通过`Object.create`方法继承了`Animal.prototype`，从而构建了原型链。
* 当我们调用`dog1.sayHello()`时，`JavaScript` 引擎会首先查找`dog1`对象自身是否有`sayHello`方法，如果没有，它会继续查找`Dog.prototype`，然后再查找`Animal.prototype`，最终找到了`sayHello`方法并执行它。

## 利用原型链的优势

原型链的主要优势之一是它允许我们实现对象之间的继承，而无需复制多余的属性和方法。这提高了代码的可维护性和性能。

另一个优势是在原型对象上添加新的属性或方法会自动反映在所有继承了它的对象上，这有助于动态地扩展对象的功能。

## 原型链相关面试题目
以下是关于JavaScript原型链的面试题目以及它们的答案：

1. **什么是JavaScript原型链？**

   答：JavaScript原型链是一种对象之间共享属性和方法的机制。每个对象都有一个指向其原型对象的`__proto__`属性，形成了一个链式结构，当查找属性或方法时，JavaScript引擎会沿着这个链一级一级地查找，直到找到或者到达原型链的末尾。

2. **如何创建一个对象的原型链？**

   答：可以使用构造函数来创建对象的原型链。通过在构造函数的`prototype`属性上定义方法和属性，然后使用`new`关键字来创建对象实例，这些对象实例将继承构造函数的原型对象上的方法和属性。

3. **`__proto__`和`prototype`之间有什么区别？**

   答：`__proto__`是每个对象都有的属性，用于指向其原型对象。而`prototype`是构造函数特有的属性，用于定义对象实例的原型对象。

4. **如何查找对象属性和方法的顺序是怎样的？**

   答：当查找对象的属性或方法时，JavaScript引擎首先检查对象本身是否具有该属性或方法。如果没有，它会继续沿着原型链向上查找，依次检查每个原型对象，直到找到匹配的属性或方法，或者到达原型链的末尾。

5. **什么是构造函数和原型对象？**

   答：构造函数是用来创建对象实例的函数。原型对象是构造函数的`prototype`属性指向的对象，它包含对象实例所共享的属性和方法。

6. **如何继承一个对象的属性和方法？**

   答：通过将一个对象的原型设置为另一个对象的实例，可以实现继承。这可以通过`Object.create()`方法或者修改构造函数的`prototype`属性来完成。

7. **如何添加属性和方法到一个对象的原型中？**

   答：可以通过在构造函数的`prototype`上添加属性和方法，或者通过直接在原型对象上添加它们来实现。这样做会使所有继承自该原型的对象都能访问这些属性和方法。

8. **什么是`Object.create()`方法？**

   答：`Object.create()`是一个用于创建新对象的方法，其中新对象的原型是作为参数传递给该方法的对象。这可以用于实现原型链继承。

9. **原型链继承和经典继承之间有什么不同？**

   答：原型链继承是JavaScript中的一种继承方式，基于对象原型的链式结构。经典继承通常是基于类和实例化的方式。原型链继承更灵活，但可能需要更小心地处理一些问题，如共享属性。

10. **有没有办法修改一个对象的原型？**

    答：在一般情况下，可以使用`Object.setPrototypeOf()`来修改一个对象的原型，但这样做需要小心，因为它可能会导致意外的行为，所以通常应该避免频繁修改对象的原型。
